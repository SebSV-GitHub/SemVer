# GitHub Action Template 🚀

A TypeScript-based GitHub Action template to streamline the creation of reusable, high-quality GitHub Actions. This template includes a fast Node.js + TypeScript runtime, code quality tooling, and test automation for reliable and maintainable workflows.

## 🌟 Features

- **TypeScript with TSX**, a fast Node.js + TypeScript runtime for building GitHub Actions.
- **ECMAScript Modules (ESM)** for a modular and modern JavaScript environment.
- **XO** for strict linting and code quality.
- **Prettier** for automatic code formatting.
- **Jest** for unit and integration testing of the Action logic.
- **TypeScript Path Aliases** for cleaner imports.
- **Git Hooks** managed by **Husky** and **lint-staged** for quality checks on every commit.
- **EditorConfig** to maintain consistent editor settings across IDEs.

## 🚀 Getting Started

### Prerequisites

- **Node.js** (v18+) – required by the `tsx` runtime.
- **npm** (package manager)

### Installation

1. **Use as a Template**: Select this template on GitHub when creating a new repository.
2. Clone your new repository:

   ```bash
   git clone https://github.com/your-username/your-new-repo.git
   cd your-new-repo
   ```

3. Install dependencies:

   ```bash
   npm install
   ```

4. Run the development server:

   ```bash
   npm start
   ```

## 📜 Scripts

- **`npm start`**: Starts the development server using `tsx` for fast TypeScript execution.
- **`npm run build`**: Compiles the action’s TypeScript code to JavaScript in the `dist` folder, ready for production.
- **`npm run lint`**: Runs the XO linter on all files.
- **`npm run format`**: Formats code using Prettier.
- **`npm run test`**: Runs tests using Jest.
- **`npm run prepare`**: Sets up Husky hooks (automatically run during npm install).

## 🛠️ Tools

### TypeScript with TSX

This template uses the `tsx` runtime, providing a fast and seamless Node.js + TypeScript experience. The `tsx` package allows for easy TypeScript execution, similar to using `node` directly.

### Jest for Testing

- **Jest** enables testing of the Action’s core logic, ensuring it performs as expected.
- Add test files with `.test.ts` or `.spec.ts` extensions in the `tests` folder to keep them organized.

### XO & Prettier

- **XO** enforces a strict code style, keeping your code clean and maintainable.
- **Prettier** works alongside XO to auto-format code, ensuring a consistent style.

### TypeScript Path Aliases

Use path aliases for cleaner imports. Configure aliases in `tsconfig.json`:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@src/*": ["src/*"]
    }
  }
}
```

Then, import modules like so:

```typescript
import myFunction from "@src/myFunction";
```

### Git Hooks (Husky + lint-staged)

- **Husky** manages Git hooks to automate linting and formatting checks before commits.
- **lint-staged** ensures only staged files are linted and formatted, minimizing disruption.

### EditorConfig

The included `.editorconfig` file maintains consistent editor behavior across different IDEs.

## 📚 Usage

After creating the repository, you can update the GitHub Action YAML file in `.github/workflows/your-action.yml` to define the action’s workflow. The action's entry point should be the `dist/index.js` file, generated by the build process.

### Sample Workflow

Here’s a sample configuration to use this Action in a workflow:

```yaml
name: Sample GitHub Action

on:
  push:
    branches:
      - main

jobs:
  run-action:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: ./
        with:
          example_input: "Hello, World!"
```

## 🧪 Running Tests

- Run all tests:

  ```bash
  npm test
  ```

- Run tests in watch mode:

  ```bash
  npm test -- --watch
  ```

## 📝 License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
